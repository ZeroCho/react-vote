{"version":3,"sources":["webpack:///react-vote.js","webpack:///webpack/bootstrap 84e013231f476552aea1","webpack:///./src/ReactVote.jsx","webpack:///external \"react\""],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_react","_react2","ReactVote","_Component","_ref","_temp","_this","_ret","this","_len","args","Array","_key","getPrototypeOf","apply","concat","state","showResult","items","data","title","done","closed","isAdmin","total","expansion","voted","multiple","showMessage","errorMessage","autoClose","addItem","addInput","trim","push","count","setState","removeItem","innerHTML","filter","item","createVote","voteTitle","multipleCheck","checked","expansionCheck","notEnoughItems","getData","noTitle","expandVote","expansionInput","showVoting","closeVote","upvote","idx","reduce","prev","current","renderItems","createElement","map","j","checkVoted","className","styles","votedText","text","onClick","voteButton","voteButtonText","itemComponent","itemWrapper","itemTitle","ref","removeButton","removeButtonText","renderResult","percentage","toFixed","itemCount","totalText","nextProps","_this2","voting","placeholder","expansionPlaceholder","expansionButton","expansionButtonText","buttonWrapper","resultButton","resultButtonText","closeButton","closeButtonText","result","goBackButton","goBackButtonText","isVotingClosed","voteWrapper","titleInput","titleInputPlaceholder","addWrapper","addInputPlaceholder","addButton","addButtonText","type","multipleCheckbox","expansionCheckbox","createButton","createButtonText","Component","propTypes","PropTypes","bool","shape","string","required","arrayOf","object","number","func","defaultProps","require"],"mappings":"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","file":"react-vote.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar ReactVote = function (_Component) {\n\t  _inherits(ReactVote, _Component);\n\t\n\t  function ReactVote() {\n\t    var _ref;\n\t\n\t    var _temp, _this, _ret;\n\t\n\t    _classCallCheck(this, ReactVote);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ReactVote.__proto__ || Object.getPrototypeOf(ReactVote)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n\t      showResult: false,\n\t      items: _this.props.data ? _this.props.data.items : [],\n\t      data: _extends({}, _this.props.data, {\n\t        title: _this.props.data && _this.props.data.title,\n\t        items: _this.props.data && _this.props.data.items,\n\t        done: _this.props.data && _this.props.data.done,\n\t        closed: _this.props.data && _this.props.data.closed\n\t      }),\n\t      isAdmin: _this.props.isAdmin,\n\t      total: _this.props.total,\n\t      expansion: _this.props.expansion,\n\t      voted: _this.props.voted || false,\n\t      multiple: _this.props.multiple,\n\t      showMessage: false,\n\t      errorMessage: false,\n\t      autoClose: _this.props.autoClose\n\t    }, _this.addItem = function () {\n\t      var title = _this.addInput.value;\n\t      var items = _this.state.items;\n\t      if (!title || !title.trim()) return;\n\t      items.push({ title: title, count: 0 });\n\t      _this.setState({ items: items });\n\t      _this.addInput.value = '';\n\t    }, _this.removeItem = function (target) {\n\t      var items = _this.state.items;\n\t      var title = _this[target].innerHTML;\n\t      items = items.filter(function (item) {\n\t        return item.title !== title;\n\t      });\n\t      _this.setState({ items: items });\n\t    }, _this.createVote = function () {\n\t      var items = _this.state.items;\n\t      var title = _this.voteTitle.value;\n\t      var multiple = _this.multipleCheck.checked;\n\t      var expansion = _this.expansionCheck.checked;\n\t      var data = {\n\t        title: title,\n\t        items: items,\n\t        multiple: multiple,\n\t        expansion: expansion,\n\t        done: false,\n\t        closed: false\n\t      };\n\t      if (!title || !title.trim()) {\n\t        return _this.setState({ showMessage: true, errorMessage: _this.props.errorMessage.noTitle });\n\t      }\n\t      if (data.items.length < 2) {\n\t        return _this.setState({ showMessage: true, errorMessage: _this.props.errorMessage.notEnoughItems });\n\t      }\n\t      _this.setState({ data: data, showMessage: false, multiple: multiple, expansion: expansion, items: items });\n\t      return _this.props.getData && _this.props.getData(data);\n\t    }, _this.expandVote = function () {\n\t      var title = _this.expansionInput.value;\n\t      if (!title || !title.trim()) {\n\t        return false;\n\t      }\n\t      var data = _this.state.data;\n\t      var item = {\n\t        title: title,\n\t        count: 0\n\t      };\n\t      data.items.push(item);\n\t      _this.setState({ data: data, items: data.items });\n\t      _this.expansionInput.value = '';\n\t      return _this.props.getData && _this.props.getData(data);\n\t    }, _this.showResult = function () {\n\t      _this.setState({ showResult: true });\n\t    }, _this.showVoting = function () {\n\t      _this.setState({ showResult: false });\n\t    }, _this.closeVote = function () {\n\t      var data = _this.state.data;\n\t      data.done = true;\n\t      data.closed = true;\n\t      _this.setState({ data: data });\n\t      return _this.props.getData && _this.props.getData(data);\n\t    }, _this.upvote = function (idx) {\n\t      var items = _this.state.items;\n\t      var data = _this.state.data;\n\t      var total = items.reduce(function (prev, current) {\n\t        return prev + current.count;\n\t      }, 0);\n\t      if (total === _this.state.autoClose) {\n\t        return _this.closeVote();\n\t      }\n\t      items[idx].count += 1;\n\t      items[idx].voted = true;\n\t      data.items = items;\n\t      _this.setState({ voted: true, items: items, data: data });\n\t      return _this.props.getData && _this.props.getData(data);\n\t    }, _this.renderItems = function (items) {\n\t      var i = 0;\n\t      return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        items.map(function (item) {\n\t          var j = i;\n\t          var checkVoted = item.voted ? _react2.default.createElement(\n\t            'span',\n\t            { className: _this.props.styles.votedText },\n\t            _this.props.text.votedText\n\t          ) : (_this.state.multiple || !_this.state.voted) && _react2.default.createElement(\n\t            'button',\n\t            { onClick: function onClick() {\n\t                return _this.upvote(j);\n\t              }, className: _this.props.styles.voteButton },\n\t            _this.props.text.voteButtonText\n\t          );\n\t          var itemComponent = _react2.default.createElement(\n\t            'div',\n\t            { key: 'react-vote-item-' + j, className: _this.props.styles.itemWrapper },\n\t            _react2.default.createElement(\n\t              'div',\n\t              {\n\t                className: _this.props.styles.itemTitle,\n\t                ref: function ref(c) {\n\t                  _this['react-vote-item-' + j] = c;\n\t                }\n\t              },\n\t              item.title\n\t            ),\n\t            _this.state.data.title ? checkVoted : _react2.default.createElement(\n\t              'button',\n\t              {\n\t                onClick: function onClick() {\n\t                  return _this.removeItem('react-vote-item-' + j);\n\t                },\n\t                className: _this.props.styles.removeButton\n\t              },\n\t              _this.props.text.removeButtonText\n\t            )\n\t          );\n\t          i += 1;\n\t          return itemComponent;\n\t        })\n\t      );\n\t    }, _this.renderResult = function (items) {\n\t      var i = 0;\n\t      var total = items.reduce(function (prev, current) {\n\t        return prev + current.count;\n\t      }, 0);\n\t      return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        items.map(function (item) {\n\t          var percentage = total === 0 ? 0 : (item.count / total * 100).toFixed(2);\n\t          var itemComponent = _react2.default.createElement(\n\t            'div',\n\t            { key: 'react-vote-result-' + i, className: _this.props.styles.itemWrapper },\n\t            _react2.default.createElement(\n\t              'div',\n\t              {\n\t                className: _this.props.styles.itemTitle,\n\t                ref: function ref(c) {\n\t                  _this['react-vote-result-' + i] = c;\n\t                }\n\t              },\n\t              item.title\n\t            ),\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: _this.props.styles.itemCount },\n\t              item.count + '(' + percentage + '%)'\n\t            )\n\t          );\n\t          i += 1;\n\t          return itemComponent;\n\t        }),\n\t        _this.state.total && _react2.default.createElement(\n\t          'div',\n\t          { className: _this.props.styles.itemWrapper },\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: _this.props.styles.itemTitle },\n\t            _this.props.text.totalText\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: _this.props.styles.itemCount },\n\t            total\n\t          )\n\t        )\n\t      );\n\t    }, _temp), _possibleConstructorReturn(_this, _ret);\n\t  }\n\t\n\t  _createClass(ReactVote, [{\n\t    key: 'componentWillReceiveProps',\n\t    value: function componentWillReceiveProps(nextProps) {\n\t      if (nextProps.data) {\n\t        this.setState({ data: nextProps.data, items: nextProps.data.items, isAdmin: nextProps.isAdmin });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var voting = _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: this.props.styles.voteTitle },\n\t          this.state.data.title\n\t        ),\n\t        this.renderItems(this.state.items),\n\t        this.state.expansion && (!this.state.voted || this.state.multiple) && _react2.default.createElement(\n\t          'div',\n\t          { className: this.props.styles.itemWrapper },\n\t          _react2.default.createElement('input', { className: this.props.styles.expansionInput, ref: function ref(c) {\n\t              _this2.expansionInput = c;\n\t            }, placeholder: this.props.text.expansionPlaceholder }),\n\t          _react2.default.createElement(\n\t            'button',\n\t            { className: this.props.styles.expansionButton, onClick: this.expandVote },\n\t            this.props.text.expansionButtonText\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: this.props.styles.buttonWrapper },\n\t          _react2.default.createElement(\n\t            'button',\n\t            {\n\t              className: this.props.styles.resultButton,\n\t              onClick: this.showResult\n\t            },\n\t            this.props.text.resultButtonText\n\t          ),\n\t          this.state.isAdmin && _react2.default.createElement(\n\t            'button',\n\t            {\n\t              className: this.props.styles.closeButton,\n\t              onClick: this.closeVote\n\t            },\n\t            this.props.text.closeButtonText\n\t          )\n\t        )\n\t      );\n\t      var result = this.state.data.title && _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: this.props.styles.voteTitle },\n\t          this.state.data.title\n\t        ),\n\t        this.renderResult(this.state.items),\n\t        !this.state.data.done && !this.state.data.closed && _react2.default.createElement(\n\t          'div',\n\t          { className: this.props.styles.buttonWrapper },\n\t          _react2.default.createElement(\n\t            'button',\n\t            {\n\t              className: this.props.styles.goBackButton,\n\t              onClick: this.showVoting\n\t            },\n\t            this.props.text.goBackButtonText\n\t          )\n\t        )\n\t      );\n\t      var isVotingClosed = this.state.data.title && (this.state.data.done || this.state.data.closed || this.state.showResult) ? result : voting;\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: this.props.styles.voteWrapper },\n\t        this.state.data.title ? isVotingClosed : _react2.default.createElement(\n\t          'div',\n\t          null,\n\t          _react2.default.createElement('input', {\n\t            className: this.props.styles.titleInput,\n\t            ref: function ref(c) {\n\t              _this2.voteTitle = c;\n\t            },\n\t            placeholder: this.props.text.titleInputPlaceholder\n\t          }),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: this.props.styles.addWrapper },\n\t            this.renderItems(this.state.items),\n\t            _react2.default.createElement(\n\t              'div',\n\t              null,\n\t              _react2.default.createElement('input', {\n\t                className: this.props.styles.addInput,\n\t                ref: function ref(c) {\n\t                  _this2.addInput = c;\n\t                },\n\t                placeholder: this.props.text.addInputPlaceholder\n\t              }),\n\t              _react2.default.createElement(\n\t                'button',\n\t                {\n\t                  className: this.props.styles.addButton,\n\t                  onClick: this.addItem\n\t                },\n\t                this.props.text.addButtonText\n\t              )\n\t            ),\n\t            _react2.default.createElement(\n\t              'div',\n\t              null,\n\t              _react2.default.createElement('input', { type: 'checkbox', ref: function ref(c) {\n\t                  _this2.multipleCheck = c;\n\t                } }),\n\t              this.props.text.multipleCheckbox,\n\t              _react2.default.createElement('input', { type: 'checkbox', ref: function ref(c) {\n\t                  _this2.expansionCheck = c;\n\t                } }),\n\t              this.props.text.expansionCheckbox\n\t            )\n\t          ),\n\t          this.state.showMessage && _react2.default.createElement(\n\t            'div',\n\t            { className: this.props.styles.errorMessage },\n\t            this.state.errorMessage\n\t          ),\n\t          _react2.default.createElement(\n\t            'button',\n\t            { className: this.props.styles.createButton, onClick: this.createVote },\n\t            this.props.text.createButtonText\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ReactVote;\n\t}(_react.Component);\n\t\n\tReactVote.propTypes = {\n\t  isAdmin: _react.PropTypes.bool,\n\t  total: _react.PropTypes.bool,\n\t  multiple: _react.PropTypes.bool,\n\t  data: _react.PropTypes.shape({\n\t    title: _react.PropTypes.string.required,\n\t    items: _react.PropTypes.arrayOf(_react.PropTypes.object).required,\n\t    done: _react.PropTypes.bool,\n\t    closed: _react.PropTypes.bool.required\n\t  }),\n\t  autoClose: _react.PropTypes.number,\n\t  voted: _react.PropTypes.bool,\n\t  expansion: _react.PropTypes.bool,\n\t  styles: _react.PropTypes.shape({\n\t    voteWrapper: _react.PropTypes.string,\n\t    voteTitle: _react.PropTypes.string,\n\t    titleInput: _react.PropTypes.string,\n\t    addWrapper: _react.PropTypes.string,\n\t    addInput: _react.PropTypes.string,\n\t    addButton: _react.PropTypes.string,\n\t    itemTitle: _react.PropTypes.string,\n\t    itemCount: _react.PropTypes.string,\n\t    itemWrapper: _react.PropTypes.string,\n\t    buttonWrapper: _react.PropTypes.string,\n\t    removeButton: _react.PropTypes.string,\n\t    createButton: _react.PropTypes.string,\n\t    resultButton: _react.PropTypes.string,\n\t    goBackButton: _react.PropTypes.string,\n\t    voteButton: _react.PropTypes.string,\n\t    closeButton: _react.PropTypes.string,\n\t    errorMessage: _react.PropTypes.string,\n\t    votedText: _react.PropTypes.string,\n\t    expansionButton: _react.PropTypes.string,\n\t    expansionInput: _react.PropTypes.string\n\t  }),\n\t  getData: _react.PropTypes.func,\n\t  text: _react.PropTypes.shape({\n\t    titleInputPlaceholder: _react.PropTypes.string,\n\t    addInputPlaceholder: _react.PropTypes.string,\n\t    addButtonText: _react.PropTypes.string,\n\t    removeButtonText: _react.PropTypes.string,\n\t    closeButtonText: _react.PropTypes.string,\n\t    createButtonText: _react.PropTypes.string,\n\t    resultButtonText: _react.PropTypes.string,\n\t    goBackButtonText: _react.PropTypes.string,\n\t    voteButtonText: _react.PropTypes.string,\n\t    votedText: _react.PropTypes.string,\n\t    totalText: _react.PropTypes.string,\n\t    multipleCheckbox: _react.PropTypes.string,\n\t    expansionCheckbox: _react.PropTypes.string,\n\t    expansionPlaceholder: _react.PropTypes.string,\n\t    expansionButtonText: _react.PropTypes.string\n\t  }),\n\t  errorMessage: _react.PropTypes.shape({\n\t    notEnoughItems: _react.PropTypes.string,\n\t    noTitle: _react.PropTypes.string\n\t  })\n\t};\n\tReactVote.defaultProps = {\n\t  isAdmin: false,\n\t  multiple: false,\n\t  total: true,\n\t  expansion: false,\n\t  voted: false,\n\t  text: {\n\t    addButtonText: 'Add',\n\t    titleInputPlaceholder: 'Title of this vote',\n\t    addInputPlaceholder: 'Type title of new option here',\n\t    removeButtonText: '×',\n\t    closeButtonText: 'Close vote',\n\t    createButtonText: 'Create',\n\t    resultButtonText: 'Show result',\n\t    goBackButtonText: 'Go back to vote',\n\t    voteButtonText: 'Upvote',\n\t    votedText: 'Voted',\n\t    totalText: 'Total',\n\t    multipleCheckbox: 'multiple?',\n\t    expansionCheckbox: 'expansion?',\n\t    expansionPlaceholder: 'Add an option yourself',\n\t    expansionButtonText: 'Add'\n\t  },\n\t  errorMessage: {\n\t    notEnoughItems: 'Need at least 2 item!',\n\t    noTitle: 'Need a title!'\n\t  },\n\t  styles: {}\n\t};\n\texports.default = ReactVote;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"react\");\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// react-vote.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 84e013231f476552aea1","import React, { Component, PropTypes } from 'react';\r\n\r\nclass ReactVote extends Component {\r\n  static propTypes = {\r\n    isAdmin: PropTypes.bool,\r\n    total: PropTypes.bool,\r\n    multiple: PropTypes.bool,\r\n    data: PropTypes.shape({\r\n      title: PropTypes.string.required,\r\n      items: PropTypes.arrayOf(PropTypes.object).required,\r\n      done: PropTypes.bool,\r\n      closed: PropTypes.bool.required,\r\n    }),\r\n    autoClose: PropTypes.number,\r\n    voted: PropTypes.bool,\r\n    expansion: PropTypes.bool,\r\n    styles: PropTypes.shape({\r\n      voteWrapper: PropTypes.string,\r\n      voteTitle: PropTypes.string,\r\n      titleInput: PropTypes.string,\r\n      addWrapper: PropTypes.string,\r\n      addInput: PropTypes.string,\r\n      addButton: PropTypes.string,\r\n      itemTitle: PropTypes.string,\r\n      itemCount: PropTypes.string,\r\n      itemWrapper: PropTypes.string,\r\n      buttonWrapper: PropTypes.string,\r\n      removeButton: PropTypes.string,\r\n      createButton: PropTypes.string,\r\n      resultButton: PropTypes.string,\r\n      goBackButton: PropTypes.string,\r\n      voteButton: PropTypes.string,\r\n      closeButton: PropTypes.string,\r\n      errorMessage: PropTypes.string,\r\n      votedText: PropTypes.string,\r\n      expansionButton: PropTypes.string,\r\n      expansionInput: PropTypes.string,\r\n    }),\r\n    getData: PropTypes.func,\r\n    text: PropTypes.shape({\r\n      titleInputPlaceholder: PropTypes.string,\r\n      addInputPlaceholder: PropTypes.string,\r\n      addButtonText: PropTypes.string,\r\n      removeButtonText: PropTypes.string,\r\n      closeButtonText: PropTypes.string,\r\n      createButtonText: PropTypes.string,\r\n      resultButtonText: PropTypes.string,\r\n      goBackButtonText: PropTypes.string,\r\n      voteButtonText: PropTypes.string,\r\n      votedText: PropTypes.string,\r\n      totalText: PropTypes.string,\r\n      multipleCheckbox: PropTypes.string,\r\n      expansionCheckbox: PropTypes.string,\r\n      expansionPlaceholder: PropTypes.string,\r\n      expansionButtonText: PropTypes.string,\r\n    }),\r\n    errorMessage: PropTypes.shape({\r\n      notEnoughItems: PropTypes.string,\r\n      noTitle: PropTypes.string,\r\n    }),\r\n  };\r\n\r\n  static defaultProps = {\r\n    isAdmin: false,\r\n    multiple: false,\r\n    total: true,\r\n    expansion: false,\r\n    voted: false,\r\n    text: {\r\n      addButtonText: 'Add',\r\n      titleInputPlaceholder: 'Title of this vote',\r\n      addInputPlaceholder: 'Type title of new option here',\r\n      removeButtonText: '×',\r\n      closeButtonText: 'Close vote',\r\n      createButtonText: 'Create',\r\n      resultButtonText: 'Show result',\r\n      goBackButtonText: 'Go back to vote',\r\n      voteButtonText: 'Upvote',\r\n      votedText: 'Voted',\r\n      totalText: 'Total',\r\n      multipleCheckbox: 'multiple?',\r\n      expansionCheckbox: 'expansion?',\r\n      expansionPlaceholder: 'Add an option yourself',\r\n      expansionButtonText: 'Add',\r\n    },\r\n    errorMessage: {\r\n      notEnoughItems: 'Need at least 2 item!',\r\n      noTitle: 'Need a title!',\r\n    },\r\n    styles: {},\r\n  };\r\n\r\n  state = {\r\n    showResult: false,\r\n    items: this.props.data ? this.props.data.items : [],\r\n    data: {\r\n      ...this.props.data,\r\n      title: this.props.data && this.props.data.title,\r\n      items: this.props.data && this.props.data.items,\r\n      done: this.props.data && this.props.data.done,\r\n      closed: this.props.data && this.props.data.closed,\r\n    },\r\n    isAdmin: this.props.isAdmin,\r\n    total: this.props.total,\r\n    expansion: this.props.expansion,\r\n    voted: this.props.voted || false,\r\n    multiple: this.props.multiple,\r\n    showMessage: false,\r\n    errorMessage: false,\r\n    autoClose: this.props.autoClose,\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.data) {\r\n      this.setState({ data: nextProps.data, items: nextProps.data.items, isAdmin: nextProps.isAdmin });\r\n    }\r\n  }\r\n\r\n  addItem = () => {\r\n    const title = this.addInput.value;\r\n    const items = this.state.items;\r\n    if (!title || !title.trim()) return;\r\n    items.push({ title, count: 0 });\r\n    this.setState({ items });\r\n    this.addInput.value = '';\r\n  };\r\n\r\n  removeItem = (target) => {\r\n    let items = this.state.items;\r\n    const title = this[target].innerHTML;\r\n    items = items.filter(item => item.title !== title);\r\n    this.setState({ items });\r\n  };\r\n\r\n  createVote = () => {\r\n    const items = this.state.items;\r\n    const title = this.voteTitle.value;\r\n    const multiple = this.multipleCheck.checked;\r\n    const expansion = this.expansionCheck.checked;\r\n    const data = {\r\n      title,\r\n      items,\r\n      multiple,\r\n      expansion,\r\n      done: false,\r\n      closed: false,\r\n    };\r\n    if (!title || !title.trim()) {\r\n      return this.setState({ showMessage: true, errorMessage: this.props.errorMessage.noTitle });\r\n    }\r\n    if (data.items.length < 2) {\r\n      return this.setState({ showMessage: true, errorMessage: this.props.errorMessage.notEnoughItems });\r\n    }\r\n    this.setState({ data, showMessage: false, multiple, expansion, items });\r\n    return this.props.getData && this.props.getData(data);\r\n  };\r\n\r\n  expandVote = () => {\r\n    const title = this.expansionInput.value;\r\n    if (!title || !title.trim()) {\r\n      return false;\r\n    }\r\n    const data = this.state.data;\r\n    const item = {\r\n      title,\r\n      count: 0,\r\n    };\r\n    data.items.push(item);\r\n    this.setState({ data, items: data.items });\r\n    this.expansionInput.value = '';\r\n    return this.props.getData && this.props.getData(data);\r\n  };\r\n\r\n  showResult = () => {\r\n    this.setState({ showResult: true });\r\n  };\r\n\r\n  showVoting = () => {\r\n    this.setState({ showResult: false });\r\n  };\r\n\r\n  closeVote = () => {\r\n    const data = this.state.data;\r\n    data.done = true;\r\n    data.closed = true;\r\n    this.setState({ data });\r\n    return this.props.getData && this.props.getData(data);\r\n  };\r\n\r\n  upvote = (idx) => {\r\n    const items = this.state.items;\r\n    const data = this.state.data;\r\n    const total = items.reduce((prev, current) => prev + current.count, 0);\r\n    if (total === this.state.autoClose) {\r\n      return this.closeVote();\r\n    }\r\n    items[idx].count += 1;\r\n    items[idx].voted = true;\r\n    data.items = items;\r\n    this.setState({ voted: true, items, data });\r\n    return this.props.getData && this.props.getData(data);\r\n  };\r\n\r\n  renderItems = (items) => {\r\n    let i = 0;\r\n    return (\r\n      <div>\r\n        {items.map((item) => {\r\n          const j = i;\r\n          const checkVoted = item.voted\r\n            ? <span className={this.props.styles.votedText}>{this.props.text.votedText}</span>\r\n            : (this.state.multiple || !this.state.voted) && <button onClick={() => this.upvote(j)} className={this.props.styles.voteButton}>{this.props.text.voteButtonText}</button>;\r\n          const itemComponent = (\r\n            <div key={`react-vote-item-${j}`} className={this.props.styles.itemWrapper}>\r\n              <div\r\n                className={this.props.styles.itemTitle}\r\n                ref={(c) => { this[`react-vote-item-${j}`] = c; }}\r\n              >\r\n                {item.title}\r\n              </div>\r\n              {this.state.data.title ? checkVoted :\r\n                <button\r\n                  onClick={() => this.removeItem(`react-vote-item-${j}`)}\r\n                  className={this.props.styles.removeButton}\r\n                >\r\n                  {this.props.text.removeButtonText}\r\n                </button>}\r\n            </div>\r\n          );\r\n          i += 1;\r\n          return itemComponent;\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderResult = (items) => {\r\n    let i = 0;\r\n    const total = items.reduce((prev, current) => prev + current.count, 0);\r\n    return (\r\n      <div>\r\n        {items.map((item) => {\r\n          const percentage = total === 0 ? 0 : ((item.count / total) * 100).toFixed(2);\r\n          const itemComponent = (\r\n            <div key={`react-vote-result-${i}`} className={this.props.styles.itemWrapper}>\r\n              <div\r\n                className={this.props.styles.itemTitle}\r\n                ref={(c) => { this[`react-vote-result-${i}`] = c; }}\r\n              >\r\n                {item.title}\r\n              </div>\r\n              <div className={this.props.styles.itemCount}>{`${item.count}(${percentage}%)`}</div>\r\n            </div>\r\n          );\r\n          i += 1;\r\n          return itemComponent;\r\n        })}\r\n        {this.state.total && <div className={this.props.styles.itemWrapper}>\r\n          <div className={this.props.styles.itemTitle}>{this.props.text.totalText}</div>\r\n          <div className={this.props.styles.itemCount}>{total}</div>\r\n        </div>}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const voting = (\r\n      <div>\r\n        <div className={this.props.styles.voteTitle}>{this.state.data.title}</div>\r\n        {this.renderItems(this.state.items)}\r\n        {(this.state.expansion && (!this.state.voted || this.state.multiple)) &&\r\n        <div className={this.props.styles.itemWrapper}>\r\n          <input className={this.props.styles.expansionInput} ref={(c) => { this.expansionInput = c; }} placeholder={this.props.text.expansionPlaceholder} />\r\n          <button className={this.props.styles.expansionButton} onClick={this.expandVote}>{this.props.text.expansionButtonText}</button>\r\n        </div>}\r\n        <div className={this.props.styles.buttonWrapper}>\r\n          <button\r\n            className={this.props.styles.resultButton}\r\n            onClick={this.showResult}\r\n          >\r\n            {this.props.text.resultButtonText}\r\n          </button>\r\n          {this.state.isAdmin && <button\r\n            className={this.props.styles.closeButton}\r\n            onClick={this.closeVote}\r\n          >\r\n            {this.props.text.closeButtonText}\r\n          </button>}\r\n        </div>\r\n      </div>\r\n    );\r\n    const result = this.state.data.title &&\r\n      <div>\r\n        <div className={this.props.styles.voteTitle}>{this.state.data.title}</div>\r\n        {this.renderResult(this.state.items)}\r\n        {(!this.state.data.done && !this.state.data.closed) &&\r\n        <div className={this.props.styles.buttonWrapper}>\r\n          <button\r\n            className={this.props.styles.goBackButton}\r\n            onClick={this.showVoting}\r\n          >\r\n            {this.props.text.goBackButtonText}\r\n          </button>\r\n        </div>}\r\n      </div>;\r\n    const isVotingClosed = this.state.data.title && (this.state.data.done || this.state.data.closed || this.state.showResult) ? result : voting;\r\n    return (\r\n      <div className={this.props.styles.voteWrapper}>\r\n        {this.state.data.title ? isVotingClosed : (\r\n          <div>\r\n            <input\r\n              className={this.props.styles.titleInput}\r\n              ref={(c) => { this.voteTitle = c; }}\r\n              placeholder={this.props.text.titleInputPlaceholder}\r\n            />\r\n            <div className={this.props.styles.addWrapper}>\r\n              {this.renderItems(this.state.items)}\r\n              <div>\r\n                <input\r\n                  className={this.props.styles.addInput}\r\n                  ref={(c) => { this.addInput = c; }}\r\n                  placeholder={this.props.text.addInputPlaceholder}\r\n                />\r\n                <button\r\n                  className={this.props.styles.addButton}\r\n                  onClick={this.addItem}\r\n                >\r\n                  {this.props.text.addButtonText}\r\n                </button>\r\n              </div>\r\n              <div>\r\n                <input type=\"checkbox\" ref={(c) => { this.multipleCheck = c; }} />{this.props.text.multipleCheckbox}\r\n                <input type=\"checkbox\" ref={(c) => { this.expansionCheck = c; }} />{this.props.text.expansionCheckbox}\r\n              </div>\r\n            </div>\r\n            {this.state.showMessage &&\r\n            <div className={this.props.styles.errorMessage}>{this.state.errorMessage}</div>}\r\n            <button className={this.props.styles.createButton} onClick={this.createVote}>\r\n              {this.props.text.createButtonText}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ReactVote;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ReactVote.jsx","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}