module.exports=function(t){function e(s){if(r[s])return r[s].exports;var o=r[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,r,s){return r&&t(e.prototype,r),s&&t(e,s),e}}(),p=r(1),l=s(p),u=function(t){function e(){var t,r,s,a;o(this,e);for(var i=arguments.length,p=Array(i),u=0;u<i;u++)p[u]=arguments[u];return r=s=n(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(p))),s.state={showResult:!1,items:s.props.data?s.props.data.items:[],data:s.props.data,voted:!1},s.addItem=function(){var t=s.addInput.value,e=s.state.items;e.push({title:t,count:0}),s.setState({items:e}),s.addInput.value=""},s.removeItem=function(t){var e=s.state.items,r=s[t].innerHTML;e=e.filter(function(t){return t.title!==r}),s.setState({items:e})},s.confirmVote=function(){var t=s.state.items,e={title:s.voteTitle.value,items:t,done:!1};return e.items.length<2?window.alert(s.props.text.notEnoughItemMessage):(s.setState({data:e}),s.props.getData&&s.props.getData(e))},s.showResult=function(){s.setState({showResult:!0})},s.showVoting=function(){s.setState({showResult:!1})},s.vote=function(t){var e=s.state.items,r=s.state.data;return e[t].count+=1,r.items=e,s.setState({voted:!0,items:e,data:r}),s.props.getData&&s.props.getData(r)},s.renderItems=function(){var t=0;return l["default"].createElement("div",null,s.state.items.map(function(e){var r=t,o=l["default"].createElement("div",{key:"react-vote-item-"+t,className:s.props.styles.itemWrapper},l["default"].createElement("div",{className:s.props.styles.itemTitle,ref:function(e){s["react-vote-item-"+t]=e}},e.title),s.state.data?!s.state.voted&&l["default"].createElement("button",{onClick:function(){return s.vote(r)},className:s.props.styles.voteButton},s.props.text.voteButtonText):l["default"].createElement("button",{onClick:function(){return s.removeItem("react-vote-item-"+t)},className:s.props.styles.removeButton},s.props.text.removeButtonText));return t+=1,o}))},s.renderResult=function(){var t=0;return l["default"].createElement("div",null,s.state.items.map(function(e){var r=l["default"].createElement("div",{key:"react-vote-result-"+t,className:s.props.styles.itemWrapper},l["default"].createElement("div",{className:s.props.styles.itemTitle,ref:function(e){s["react-vote-result-"+t]=e}},e.title),l["default"].createElement("div",{className:s.props.styles.itemCount},e.count));return t+=1,r}))},a=r,n(s,a)}return a(e,t),i(e,[{key:"render",value:function(){var t=this,e=this.state.data&&(this.state.data.done||this.state.showResult)?l["default"].createElement("div",null,l["default"].createElement("div",{className:this.props.styles.voteTitle},this.state.data.title),this.renderResult(),!this.state.data.done&&l["default"].createElement("button",{className:this.props.styles.goBackButton,onClick:this.showVoting},this.props.text.goBackButtonText)):l["default"].createElement("div",null,l["default"].createElement("div",{className:this.props.styles.voteTitle},this.state.data&&this.state.data.title),this.renderItems(),l["default"].createElement("button",{className:this.props.styles.resultButton,onClick:this.showResult},this.props.text.resultButtonText));return l["default"].createElement("div",{className:this.props.styles.voteWrapper},this.state.data?e:l["default"].createElement("div",null,l["default"].createElement("input",{className:this.props.styles.titleInput,ref:function(e){t.voteTitle=e},placeholder:this.props.text.titleInputPlaceholder}),this.renderItems(),l["default"].createElement("div",{className:this.props.styles.addWrapper},l["default"].createElement("input",{className:this.props.styles.addInput,ref:function(e){t.addInput=e},placeholder:this.props.text.addInputPlaceholder}),l["default"].createElement("button",{className:this.props.styles.addButton,onClick:this.addItem},this.props.text.addButtonText)),l["default"].createElement("button",{className:this.props.styles.confirmButton,onClick:this.confirmVote},this.props.text.confirmButtonText)))}}]),e}(p.Component);u.propTypes={data:p.PropTypes.shape({title:p.PropTypes.string.required,items:p.PropTypes.arrayOf(p.PropTypes.object).required,done:p.PropTypes.bool.required}),styles:p.PropTypes.shape({voteWrapper:p.PropTypes.string,voteTitle:p.PropTypes.string,titleInput:p.PropTypes.string,addWrapper:p.PropTypes.string,addInput:p.PropTypes.string,addButton:p.PropTypes.string,itemTitle:p.PropTypes.string,itemCount:p.PropTypes.string,itemWrapper:p.PropTypes.string,removeButton:p.PropTypes.string,confirmButton:p.PropTypes.string,resultButton:p.PropTypes.string,goBackButton:p.PropTypes.string,voteButton:p.PropTypes.string}),getData:p.PropTypes.func,text:p.PropTypes.shape({titleInputPlaceholder:p.PropTypes.string,addInputPlaceholder:p.PropTypes.string,addButtonText:p.PropTypes.string,removeButtonText:p.PropTypes.string,confirmButtonText:p.PropTypes.string,resultButtonText:p.PropTypes.string,goBackButtonText:p.PropTypes.string,notEnoughItemMessage:p.PropTypes.string,voteButtonText:p.PropTypes.string})},u.defaultProps={text:{addButtonText:"Add",titleInputPlaceholder:"Title of this vote",addInputPlaceholder:"Type title of new item here",removeButtonText:"Ã—",confirmButtonText:"Confirm",resultButtonText:"Show result",goBackButtonText:"Go back to vote",voteButtonText:"Vote this",notEnoughItemMessage:"Need more than two items!"}},e["default"]=u},function(t,e){t.exports=require("react")}]);
//# sourceMappingURL=react-vote.js.map