/*! For license information please see react-vote.js.LICENSE.txt */
(()=>{var e={418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var u,s,i=r(e),c=1;c<arguments.length;c++){for(var l in u=Object(arguments[c]))n.call(u,l)&&(i[l]=u[l]);if(t){s=t(u);for(var p=0;p<s.length;p++)o.call(u,s[p])&&(i[s[p]]=u[s[p]])}}return i}},703:(e,t,n)=>{"use strict";var o=n(414);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,u){if(u!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},408:(e,t,n)=>{"use strict";var o=n(418),r=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var u=60109,s=60110,i=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var p=Symbol.for;r=p("react.element"),a=p("react.portal"),t.Fragment=p("react.fragment"),t.StrictMode=p("react.strict_mode"),t.Profiler=p("react.profiler"),u=p("react.provider"),s=p("react.context"),i=p("react.forward_ref"),t.Suspense=p("react.suspense"),c=p("react.memo"),l=p("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}function m(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var g=b.prototype=new m;g.constructor=b,o(g,v.prototype),g.isPureReactComponent=!0;var w={current:null},C=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var o,a={},u=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(u=""+t.key),t)C.call(t,o)&&!x.hasOwnProperty(o)&&(a[o]=t[o]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var c=Array(i),l=0;l<i;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(o in i=e.defaultProps)void 0===a[o]&&(a[o]=i[o]);return{$$typeof:r,type:e,key:u,ref:s,props:a,_owner:w.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,o,u){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var i=!1;if(null===e)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case r:case a:i=!0}}if(i)return u=u(i=e),e=""===o?"."+T(i,0):o,Array.isArray(u)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),S(u,t,n,"",(function(e){return e}))):null!=u&&(k(u)&&(u=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(u,n+(!u.key||i&&i.key===u.key?"":(""+u.key).replace(E,"$&/")+"/")+e)),t.push(u)),1;if(i=0,o=""===o?".":o+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=o+T(s=e[c],c);i+=S(s,t,n,l,u)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)i+=S(s=s.value,t,n,l=o+T(s,c++),u);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return i}function j(e,t,n){if(null==e)return e;var o=[],r=0;return S(e,o,"","",(function(e){return t.call(n,e,r++)})),o}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var _={current:null};function R(){var e=_.current;if(null===e)throw Error(d(321));return e}var B={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:o};t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(d(143));return e}},t.Component=v,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var a=o({},e.props),u=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=w.current),void 0!==t.key&&(u=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)C.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var p=0;p<l;p++)c[p]=arguments[p+2];a.children=c}return{$$typeof:r,type:e.type,key:u,ref:s,props:a,_owner:i}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:i,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";n.r(o),n.d(o,{default:()=>ne});var e=n(294),t=n(697),r=n.n(t);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(a,t);var n,o,r=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(n);if(o){var r=l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return i(this,e)});function a(){var t;u(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return p(c(t=r.call.apply(r,[this].concat(o))),"render",(function(){var n=t.props,o=n.items,r=n.styles,a=n.text,u=n.onRemove;return e.createElement("div",null,o.map((function(t,n){var o="react-vote-item-".concat(n);return e.createElement("div",{key:o,className:r.itemWrapper},e.createElement("div",{className:r.itemTitle,title:t.title},t.title),e.createElement("button",{type:"button",onClick:function(){return u(n)},className:r.removeButton},a.removeButtonText))})))})),t}return a}(e.Component);p(f,"propTypes",{items:r().arrayOf(r().any).isRequired,styles:r().objectOf(r().any).isRequired,text:r().objectOf(r().any).isRequired,onRemove:r().func.isRequired});const d=f;function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(s,t);var n,o,r,a,u=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(a){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function s(){var e;m(this,s);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return O(C(e=u.call.apply(u,[this].concat(n))),"state",{addInput:"",voteTitle:e.props.data?e.props.data.title:"",items:e.props.data?e.props.data.items:[],multipleCheck:!!e.props.data&&e.props.data.multiple,expansionCheck:!!e.props.data&&e.props.data.expansion,downvoteCheck:!!e.props.data&&e.props.data.downvote,autoCloseNumber:e.props.data?e.props.data.autoClose:"",showTotalCheck:!e.props.data||e.props.data.showTotal,closeCheck:!!e.props.data&&e.props.data.closed,errorMessage:!1,showMessage:null,reasonCheck:!1}),O(C(e),"onVoteTitleChange",(function(t){var n=t.target.value;e.setState((function(){return{voteTitle:n}}))})),O(C(e),"onAddInputChange",(function(t){var n=t.target.value;e.setState((function(){return{addInput:n}}))})),O(C(e),"onCloseCheckChange",(function(t){var n=t.target.checked;e.setState((function(){return{closeCheck:n}}))})),O(C(e),"onMultipleCheckChange",(function(t){var n=t.target.checked;e.setState((function(){return{multipleCheck:n}}))})),O(C(e),"onExpansionCheckChange",(function(t){var n=t.target.checked;e.setState((function(){return{expansionCheck:n}}))})),O(C(e),"onDownvoteCheckChange",(function(t){var n=t.target.checked;e.setState((function(){return{downvoteCheck:n}}))})),O(C(e),"onShowTotalCheckChange",(function(t){var n=t.target.checked;e.setState((function(){return{showTotalCheck:n}}))})),O(C(e),"onAutoCloseChange",(function(t){var n=t.target.value.trim();e.setState((function(){return{autoCloseNumber:n}}))})),O(C(e),"onReasonChange",(function(t){var n=t.target.checked;e.setState((function(){return{reasonCheck:n}}))})),O(C(e),"onRemoveItem",(function(t){var n=e.state.items;n=n.filter((function(e,n){return n!==t})),e.setState((function(){return{items:n}}))})),O(C(e),"addItem",(function(){var t=e.state,n=t.addInput,o=t.items,r=t.reasonCheck;n&&n.trim()&&(o.push({title:n.trim(),count:0,total:0,voters:[],upvoters:[],downvoters:[],reason:r}),e.setState((function(){return{items:o,addInput:"",reasonCheck:!1}})))})),O(C(e),"editVote",(function(){var t=e.props,n=t.errorMessage,o=n.noTitle,r=n.notEnoughItems,a=t.data,u=t.setData,s=t.onEdit,i=e.state,c=i.items,l=i.voteTitle,p=i.closeCheck,f=i.downvoteCheck,d=i.multipleCheck,h=i.expansionCheck,y=i.showTotalCheck,m=i.autoCloseNumber,b=l.trim(),g=!!m&&parseInt(m,10),w=v(v({},a),{},{title:b,voters:[],items:c,closed:p,multiple:d,expansion:h,autoClose:!Number.isNaN(g)&&g,downvote:f,showTotal:y});return b?!w.expansion&&w.items.length<2?e.setState((function(){return{showMessage:!0,errorMessage:r}})):(e.setState((function(){return{showMessage:!1}})),u(w),s?s&&"function"==typeof s&&s(w):console.warn("Provide onEdit prop as a callback function to save edited vote data")):e.setState((function(){return{showMessage:!0,errorMessage:o}}))})),O(C(e),"createVote",(function(){var t=e.props,n=t.onCreate,o=t.errorMessage,r=o.noTitle,a=o.notEnoughItems,u=t.setData,s=t.clientId,i=e.state,c=i.items,l=i.voteTitle,p=i.closeCheck,f=i.downvoteCheck,d=i.multipleCheck,h=i.expansionCheck,y=i.showTotalCheck,v=i.autoCloseNumber,m=!!v&&parseInt(v,10);if(!l||!l.trim())return e.setState((function(){return{showMessage:!0,errorMessage:r}}));var b={title:l.trim(),voters:[],items:c,closed:p,multiple:d,expansion:h,autoClose:!Number.isNaN(m)&&m,downvote:f,showTotal:y,creator:s};return!b.expansion&&b.items.length<2?e.setState((function(){return{showMessage:!0,errorMessage:a}})):(e.setState((function(){return{showMessage:!1}})),u(b),n?n&&"function"==typeof n&&n(b):console.warn("Provide onCreate prop as a callback function to save new vote data"))})),e}return n=s,(o=[{key:"componentDidMount",value:function(){var e=this.props.onCreate;e&&"function"==typeof e||console.warn("onCreated is required for creating new vote")}},{key:"render",value:function(){var t=this.props,n=t.styles,o=t.text,r=t.setting,a=this.state,u=a.voteTitle,s=a.items,i=a.downvoteCheck,c=a.showTotalCheck,l=a.addInput,p=a.multipleCheck,f=a.expansionCheck,h=a.autoCloseNumber,y=a.errorMessage,v=a.showMessage,m=a.closeCheck,b=a.reasonCheck;return e.createElement("div",{id:"creation-view"},e.createElement("input",{className:n.titleInput,value:u,onChange:this.onVoteTitleChange,placeholder:o.titleInputPlaceholder}),e.createElement("div",{className:n.addWrapper},e.createElement(d,{onRemove:this.onRemoveItem,items:s,styles:n,text:o}),e.createElement("div",null,e.createElement("input",{className:n.addInput,value:l,onChange:this.onAddInputChange,placeholder:o.addInputPlaceholder}),e.createElement("button",{type:"button",className:n.addButton,onClick:this.addItem},o.addButtonText),e.createElement("label",{htmlFor:"reason"},o.reasonCheckbox,e.createElement("input",{id:"reason",type:"checkbox",checked:b,onChange:this.onReasonChange}))),e.createElement("div",null,e.createElement("label",{htmlFor:"multiple"},o.multipleCheckbox,e.createElement("input",{id:"multiple",type:"checkbox",checked:p,onChange:this.onMultipleCheckChange}))),e.createElement("div",null,e.createElement("label",{htmlFor:"expansion"},o.expansionCheckbox,e.createElement("input",{id:"expansion",type:"checkbox",checked:f,onChange:this.onExpansionCheckChange}))),e.createElement("div",null,e.createElement("label",{htmlFor:"autoClose"},o.autoCloseText,e.createElement("input",{id:"autoClose",value:h,onChange:this.onAutoCloseChange,placeholder:o.autoClosePlaceholder}))),e.createElement("div",null,e.createElement("label",{htmlFor:"downvote"},o.downvoteCheckbox,e.createElement("input",{id:"downvote",type:"checkbox",checked:i,onChange:this.onDownvoteCheckChange}))),e.createElement("div",null,e.createElement("label",{htmlFor:"showTotal"},o.showTotalCheckbox,e.createElement("input",{id:"showTotal",type:"checkbox",checked:c,onChange:this.onShowTotalCheckChange}))),e.createElement("div",null,e.createElement("label",{htmlFor:"closed"},o.closeCheckbox,e.createElement("input",{id:"closed",type:"checkbox",checked:m,onChange:this.onCloseCheckChange})))),v&&e.createElement("div",{className:n.errorMessage},y),e.createElement("div",{className:n.buttonWrapper},e.createElement("button",{type:"button",className:n.createButton,onClick:r?this.editVote:this.createVote},r?o.editButtonText:o.createButtonText)))}}])&&b(n.prototype,o),s}(e.Component);O(k,"propTypes",{styles:r().objectOf(r().any).isRequired,text:r().objectOf(r().any).isRequired,onCreate:r().func,onEdit:r().func,setData:r().func.isRequired,errorMessage:r().objectOf(r().any).isRequired,clientId:r().oneOfType([r().string,r().number]),data:r().objectOf(r().any),setting:r().bool.isRequired}),O(k,"defaultProps",{clientId:null,data:null,onEdit:null,onCreate:null});const E=k;function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(s,t);var n,o,r,a,u=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(a){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _(this,e)});function s(){var e;S(this,s);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return I(R(e=u.call.apply(u,[this].concat(n))),"state",{expansionInput:""}),I(R(e),"onExpansionInputChange",(function(t){var n=t.target.value;e.setState((function(){return{expansionInput:n}}))})),I(R(e),"expandVote",(function(){var t=e.props,n=t.data,o=t.expandVote,r=t.clientId,a=e.state.expansionInput;if(!a||!a.trim())return!1;var u={title:a.trim(),count:0,total:0,voters:[],upvoters:[],downvoters:[],adder:r};return n.items.push(u),e.setState((function(){return{expansionInput:""}})),o(n,u)})),e}return n=s,(o=[{key:"render",value:function(){var t=this.props,n=t.styles,o=t.text;return e.createElement("div",{className:n.itemWrapper},e.createElement("input",{className:n.expansionInput,value:this.state.expansionInput,onChange:this.onExpansionInputChange,placeholder:o.expansionPlaceholder}),e.createElement("button",{type:"button",className:n.expansionButton,onClick:this.expandVote},o.expansionButtonText))}}])&&j(n.prototype,o),s}(e.Component);I(N,"propTypes",{styles:r().objectOf(r().any).isRequired,text:r().objectOf(r().any).isRequired,expandVote:r().func.isRequired,clientId:r().oneOfType([r().string,r().number]),data:r().objectOf(r().any).isRequired}),I(N,"defaultProps",{clientId:null});const M=N;function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?$(e):t}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(a,t);var n,o,r=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=W(n);if(o){var r=W(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return D(this,e)});function a(){var t;q(this,a);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return F($(t=r.call.apply(r,[this].concat(o))),"state",{showReasonInput:-1,reasonType:!0,reason:""}),F($(t),"onReasonChange",(function(e){var n=e.target.value;t.setState({reason:n})})),F($(t),"showReasonInput",(function(e,n){return function(){t.setState({showReasonInput:e,reasonType:n})}})),F($(t),"render",(function(){var n=t.props,o=n.clientId,r=n.upvote,a=n.downvote,u=n.data,s=u.title,i=u.items,c=u.multiple,l=u.downvote,p=u.showTotal,f=n.styles,d=n.text,h=n.voted,y=n.resultView,v=t.state,m=v.reason,b=v.reasonType,g=v.showReasonInput,w=c||!h,C=i.reduce((function(e,t){return e+t.count}),0),x=i.reduce((function(e,t){return t.total||(t.total=t.count),e+t.total}),0),O=C===x?"":"(".concat(x,")");return e.createElement("div",null,i.map((function(n,u){var i=o&&n.voters&&n.voters.indexOf(o)>-1,c=0===C?0:(n.count/C*100).toFixed(2),p="react-vote-item-".concat(u),h=n.voted||i?e.createElement("span",{className:f.votedText},d.votedText):w&&e.createElement("span",{className:f.voteButtons},e.createElement("button",{type:"button",onClick:n.reason?t.showReasonInput(u,!0):r(u),className:f.voteButton},d.voteButtonText),l&&e.createElement("button",{type:"button",onClick:n.reason?t.showReasonInput(u,!1):a(u),className:f.downvoteButton},d.downvoteButtonText));return e.createElement("div",{key:p,className:f.itemWrapper},e.createElement("div",{className:f.itemTitle,title:n.title},n.title),s&&y?e.createElement("div",{className:f.itemCount},"".concat(n.count,"(").concat(c,"%)")):h,w&&g===u&&e.createElement("div",null,e.createElement("input",{id:"reason",onChange:t.onReasonChange,value:m,placeholder:d.reasonInputPlaceholder,className:f.expansionInput}),e.createElement("button",{type:"button",className:f.expansionButton,onClick:b?r(u,m):a(u,m)},b?d.voteButtonText:d.downvoteButtonText)))})),y&&p&&e.createElement("div",{className:f.itemWrapper},e.createElement("div",{className:f.itemTitle},d.totalText),e.createElement("div",{className:f.itemCount},C,O)))})),t}return a}(e.Component);F(U,"propTypes",{data:r().objectOf(r().any).isRequired,clientId:r().oneOfType([r().string,r().number]),styles:r().objectOf(r().any).isRequired,text:r().objectOf(r().any).isRequired,voted:r().bool.isRequired,upvote:r().func.isRequired,downvote:r().func.isRequired,resultView:r().bool.isRequired}),F(U,"defaultProps",{clientId:null});const L=U;function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?X(e):t}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(s,t);var n,o,r,a,u=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Z(r);if(a){var n=Z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Q(this,e)});function s(){var e;G(this,s);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return ee(X(e=u.call.apply(u,[this].concat(n))),"state",{showResult:!1,showSetting:!1,data:e.props.data,voted:e.props.clientId&&!e.props.data.multiple&&e.props.data.voters&&e.props.data.voters.indexOf(e.props.clientId)>-1||!1}),ee(X(e),"setData",(function(t){e.setState((function(){return{data:t,showSetting:!1}}))})),ee(X(e),"expandVote",(function(t,n){var o=e.props.onExpand;return e.setState((function(){return{data:t}})),!o||"function"!=typeof o||o(t,n)})),ee(X(e),"goToSetting",(function(){e.setState((function(){return{showSetting:!0}}))})),ee(X(e),"toggleView",(function(){e.setState((function(e){return{showResult:!e.showResult}}))})),ee(X(e),"closeVote",(function(){var t=e.props.onClose,n=e.state.data;n.closed=!0,e.setState((function(){return{data:n}})),t&&"function"==typeof t&&t(n)})),ee(X(e),"resetVote",(function(){var t=e.props.onReset,n=e.state.data;n.voters=[],n.closed=!1,n.items.forEach((function(e){e.count=0,e.total=0,e.voters=[],e.upvoters=[],e.downvoters=[],e.voted=null})),e.setState((function(){return{data:n,voted:!1}})),t&&"function"==typeof t&&t(n)})),ee(X(e),"upvote",(function(t,n){return function(){var o=e.props,r=o.onUpvote,a=o.clientId,u=Y({},e.state.data),s=u.items,i=s.reduce((function(e,t){return t.total||(t.total=t.count),e+t.total}),0);if(s[t].count+=1,s[t].total+=1,s[t].voted=!0,s[t].voters||(s[t].voters=[]),s[t].downvoters||(s[t].downvoters=[]),s[t].upvoters||(s[t].upvoters=[]),s[t].reasons||(s[t].reasons=[]),s[t].voters.push(a),s[t].upvoters.push(a),s[t].reason&&(!n||!n.trim()))return!1;n&&s[t].reasons.push(n.trim()),u.voters?-1===u.voters.indexOf(a)&&u.voters.push(a):u.voters=[a];var c={index:t,item:s[t],voter:a};return e.setState((function(){return{voted:!0,data:u}})),r&&"function"==typeof r&&r(u,c),!(u.autoClose&&i+1>=u.autoClose)||e.closeVote()}})),ee(X(e),"downvote",(function(t,n){return function(){var o=e.props,r=o.clientId,a=o.onDownvote,u=Y({},e.state.data),s=u.items,i=s.reduce((function(e,t){return t.total||(t.total=t.count),e+t.total}),0);if(s[t].count-=1,s[t].total+=1,s[t].voted=!0,s[t].voters||(s[t].voters=[]),s[t].downvoters||(s[t].downvoters=[]),s[t].upvoters||(s[t].upvoters=[]),s[t].reasons||(s[t].reasons=[]),s[t].reason&&(!n||!n.trim()))return!1;n&&s[t].reasons.push(n.trim()),s[t].voters.push(r),s[t].downvoters.push(r),u.voters?-1===u.voters.indexOf(r)&&u.voters.push(r):u.voters=[r];var c={index:t,item:s[t],voter:r};return e.setState((function(){return{voted:!0,data:u}})),a&&"function"==typeof a&&a(u,c),!(u.autoClose&&i+1>=u.autoClose)||e.closeVote()}})),e}return n=s,(o=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.data&&this.setState((function(){return{data:e.data}}))}},{key:"render",value:function(){var t=this.state,n=t.voted,o=t.data,r=t.showSetting,a=t.showResult,u=this.props,i=u.onCreate,c=u.errorMessage,l=u.onUpvote,p=u.onEdit,f=u.onDownvote,d=u.clientId,h=u.isAdmin,y=u.text,v=u.styles,m=o.closed,b=o.title&&(m||a),g=o.expansion&&(!n||o.multiple),w=Y(Y({},s.defaultProps.text),y),C=Y(Y({},s.defaultProps.styles),v);return e.createElement("div",{className:v.voteWrapper},o.title&&!r?e.createElement("div",{id:b?"result-view":"vote-view"},h&&p&&e.createElement("button",{type:"button",className:v.settingButton,onClick:this.goToSetting},y.settingButtonText),e.createElement("div",{className:v.voteTitle},o.title),e.createElement(L,{voted:n,data:o,styles:C,text:w,upvote:this.upvote,downvote:this.downvote,clientId:d,onUpvote:l,onDownvote:f,resultView:b}),g&&!o.closed&&e.createElement(M,{data:o,clientId:d,styles:v,text:y,expandVote:this.expandVote}),e.createElement("div",{className:v.buttonWrapper},!o.closed&&e.createElement("button",{type:"button",className:a?v.goBackButton:v.resultButton,onClick:this.toggleView},a?y.goBackButtonText:y.resultButtonText),h&&e.createElement("button",{type:"button",className:v.resetButton,onClick:this.resetVote},y.resetButtonText),h&&!o.closed&&e.createElement("button",{type:"button",className:v.closeButton,onClick:this.closeVote},y.closeButtonText))):e.createElement(E,{styles:v,text:y,clientId:d,setData:this.setData,data:o,errorMessage:c,onCreate:i,onEdit:p,setting:r}))}}])&&J(n.prototype,o),s}(e.Component);ee(te,"propTypes",{isAdmin:r().bool,clientId:r().oneOfType([r().string,r().number]),data:r().shape({title:r().string,voters:r().arrayOf(r().oneOfType([r().string,r().number])),items:r().arrayOf(r().object),closed:r().bool,multiple:r().bool,expansion:r().bool,autoClose:r().number,downvote:r().bool,showTotal:r().bool,creator:r().oneOfType([r().string,r().number])}),styles:r().shape({voteWrapper:r().string,voteTitle:r().string,titleInput:r().string,addWrapper:r().string,addInput:r().string,addButton:r().string,itemTitle:r().string,itemCount:r().string,itemWrapper:r().string,buttonWrapper:r().string,removeButton:r().string,createButton:r().string,resultButton:r().string,goBackButton:r().string,voteButtons:r().string,voteButton:r().string,downvoteButton:r().string,closeButton:r().string,resetButton:r().string,errorMessage:r().string,votedText:r().string,expansionButton:r().string,expansionInput:r().string,settingButton:r().string}),text:r().shape({titleInputPlaceholder:r().string,addInputPlaceholder:r().string,addButtonText:r().string,removeButtonText:r().string,closeButtonText:r().string,resetButtonText:r().string,createButtonText:r().string,resultButtonText:r().string,goBackButtonText:r().string,voteButtonText:r().string,downvoteCheckbox:r().string,downvoteButtonText:r().string,votedText:r().string,totalText:r().string,multipleCheckbox:r().string,expansionCheckbox:r().string,showTotalCheckbox:r().string,expansionPlaceholder:r().string,expansionButtonText:r().string,autoCloseText:r().string,autoClosePlaceholder:r().string,settingButtonText:r().string,closeCheckbox:r().string,reasonCheckbox:r().string,reasonInputPlaceholder:r().string}),errorMessage:r().shape({notEnoughItems:r().string,noTitle:r().string}),onCreate:r().func,onEdit:r().func,onUpvote:r().func,onDownvote:r().func,onExpand:r().func,onReset:r().func,onClose:r().func}),ee(te,"defaultProps",{isAdmin:!1,clientId:null,data:{title:"",items:[],voters:[],closed:!1,multiple:!1,expansion:!1,showTotal:!0,downvote:!1,autoClose:void 0},onCreate:null,onEdit:null,onUpvote:null,onDownvote:null,onExpand:null,onClose:null,onReset:null,text:{addButtonText:"Add",titleInputPlaceholder:"Title of this vote",addInputPlaceholder:"Title of a new option",removeButtonText:"Ã—",closeButtonText:"Close vote",resetButtonText:"Reset vote",createButtonText:"Create",resultButtonText:"Show result",goBackButtonText:"Go back",voteButtonText:"Upvote",downvoteCheckbox:"Allow downvote?",downvoteButtonText:"Downvote",votedText:"Voted",totalText:"Total",multipleCheckbox:"Multiple choice?",expansionCheckbox:"Expandable?",showTotalCheckbox:"Show total?",expansionPlaceholder:"Add an option yourself",expansionButtonText:"Add",autoCloseText:"AutoClose number: ",autoClosePlaceholder:"AutoClose number",settingButtonText:"Settings",editButtonText:"Edit",closeCheckbox:"Closed?",reasonCheckbox:"Need reason?",reasonInputPlaceholder:"Type reason why you voted this"},errorMessage:{notEnoughItems:"Need at least 2 items!",noTitle:"Need a title!"},styles:{}});const ne=te})(),module.exports=o})();
//# sourceMappingURL=react-vote.js.map